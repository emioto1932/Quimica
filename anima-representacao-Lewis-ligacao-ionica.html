<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Átomo de Sódio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>
</head>
<body>
    <script>
        let nucleusProtons = 11; // Prótons no núcleo do sódio
        let nucleusNeutrons = 12; // Nêutrons no núcleo do sódio
        let electrons = [2, 8, 1]; // Distribuição eletrônica: 2 na 1ª, 8 na 2ª, 1 na 3ª camada
        let electronSpeed = 0.03; // Velocidade de rotação dos elétrons
        let layers = [];
        let angles = [];

        function setup() {
            createCanvas(400, 400);
            angleMode(RADIANS);

            // Configura as camadas de elétrons
            let initialRadius = 40; // Raio inicial para a 1ª camada
            for (let i = 0; i < electrons.length; i++) {
                layers.push({
                    radius: initialRadius + i * 30, // Raio da camada
                    count: electrons[i] // Número de elétrons na camada
                });
                // Configura ângulos iniciais dos elétrons
                angles.push(Array(electrons[i]).fill(0).map((_, index) => index * (TWO_PI / electrons[i])));
            }
        }

        function draw() {
            background(255);

            // Desenha o núcleo
            fill(255, 100, 100);
            noStroke();
            ellipse(width / 2, height / 2, 40, 40);
            fill(255);
            textSize(8);
            textAlign(CENTER, CENTER);
            text(`P=${nucleusProtons}+`, width / 2, height / 2 - 6);
            text(`N=${nucleusNeutrons}`, width / 2, height / 2 + 6);

            // Desenha as camadas e os elétrons
            for (let i = 0; i < layers.length; i++) {
                let { radius, count } = layers[i];

                // Desenha a camada
                noFill();
                stroke(200);
                ellipse(width / 2, height / 2, radius * 2, radius * 2);

                // Desenha os elétrons em movimento
                for (let j = 0; j < count; j++) {
                    let x = width / 2 + radius * cos(angles[i][j]);
                    let y = height / 2 + radius * sin(angles[i][j]);

                    fill(100, 100, 255);
                    noStroke();
                    ellipse(x, y, 8, 8);

                    // Atualiza o ângulo para o movimento
                    angles[i][j] += electronSpeed;

                    // Desenha o movimento do elétron da 3ª camada (representa doação ao cloro)
                    if (i === 2 && j === 0) {
                        stroke(50, 50, 50);
                        line(x, y, width / 2 + 150, height / 2);
                        fill(255, 0, 0);
                        textSize(12);
                        text("Elétron doado", width / 2 + 100, height / 2 - 10);
                    }
                }
            }

            // Desenha o átomo de cloro ao lado (recebendo o elétron)
            drawChlorine();
        }

        function drawChlorine() {
            // Posição do cloro
            let xCl = width / 2 + 150;
            let yCl = height / 2;

            // Desenha o núcleo do cloro
            fill(255, 200, 100);
            noStroke();
            ellipse(xCl, yCl, 40, 40);
            fill(0);
            textSize(8);
            textAlign(CENTER, CENTER);
            text(`Cl`, xCl, yCl);

            // Desenha a camada externa com 7 elétrons
            noFill();
            stroke(200);
            ellipse(xCl, yCl, 120, 120);
            for (let i = 0; i < 7; i++) {
                let angle = i * (TWO_PI / 7);
                let x = xCl + 60 * cos(angle);
                let y = yCl + 60 * sin(angle);

                fill(100, 100, 255);
                noStroke();
                ellipse(x, y, 8, 8);
            }

            // Desenha o elétron recebido do sódio
            fill(100, 100, 255);
            ellipse(xCl + 60, yCl, 8, 8); // Novo elétron adicionado
        }
    </script>
</body>
</html>
