<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bomba de Sódio e Potássio</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #e0f7fa;
        }

        .container {
            position: relative;
            width: 400px;
            height: 600px;
        }

        .membrana {
            position: relative;
            width: 100%;
            height: 20px;
            background: linear-gradient(to bottom, #0077cc, #ffdd57, #0077cc);
            border-radius: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .bolinha {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            font-weight: bold;
        }

        .sodio {
            background-color: yellow;
            color: black;
        }

        .potassio {
            background-color: blue;
            color: white;
        }

        .bomba {
            position: absolute;
            width: 60px;
            height: 80px;
            background-color: #4caf50;
            border-radius: 10px;
            top: calc(50% - 40px);
            left: calc(50% - 30px);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @keyframes moveIon {
            0% { transform: translate(0, 0); }
            50% { transform: translate(0, -50px); }
            100% { transform: translate(0, -100px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="membrana"></div>
        <div class="bomba"></div>
    </div>
    <script>
        const container = document.querySelector(".container");
        const membrana = document.querySelector(".membrana");
        const bomba = document.querySelector(".bomba");

        const intracelularY = container.offsetHeight - 20; // Base inferior
        const extracelularY = 0; // Base superior
        const bolinhas = [];

        function criarIons(tipo, quantidade, yInicial, classe) {
            const espacamento = 15;
            for (let i = 0; i < quantidade; i++) {
                const bolinha = document.createElement("div");
                bolinha.classList.add("bolinha", classe);
                bolinha.textContent = tipo;
                bolinha.style.left = `${i * espacamento}px`;
                bolinha.style.top = `${yInicial}px`;
                container.appendChild(bolinha);
                bolinhas.push({ element: bolinha, x: i * espacamento, y: yInicial });
            }
        }

        // Criar Na+ e K+ na região extracelular
        criarIons("Na⁺", 10, extracelularY, "sodio");
        criarIons("K⁺", 9, extracelularY, "potassio");

        // Criar Na+ e K+ na região intracelular
        criarIons("Na⁺", 6, intracelularY, "sodio");
        criarIons("K⁺", 3, intracelularY, "potassio");

        function moverIon(bolinha, destinoX, destinoY) {
            bolinha.element.style.transition = "all 2s ease";
            bolinha.element.style.left = `${destinoX}px`;
            bolinha.element.style.top = `${destinoY}px`;
        }

        function animarIons() {
            // Mover 3 Na+ para fora
            let countNa = 0;
            bolinhas.forEach((bolinha) => {
                if (bolinha.element.classList.contains("sodio") && bolinha.y === intracelularY && countNa < 3) {
                    moverIon(bolinha, Math.random() * 400, extracelularY);
                    countNa++;
                }
            });

            // Mover 2 K+ para dentro
            let countK = 0;
            bolinhas.forEach((bolinha) => {
                if (bolinha.element.classList.contains("potassio") && bolinha.y === extracelularY && countK < 2) {
                    moverIon(bolinha, Math.random() * 400, intracelularY);
                    countK++;
                }
            });
        }

        setTimeout(animarIons, 1000); // Iniciar a animação após 1 segundo
    </script>
</body>
</html>
